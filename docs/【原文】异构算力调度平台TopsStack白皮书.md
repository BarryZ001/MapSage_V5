![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_1.jpg?Expires=1758447075&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=AmkcaR6VEUCfXE8NSo%2BDHiGhxak%3D) 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_2.jpg?Expires=1758447075&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=7XVRMJgvz1HknTb2udMXPq2cBf8%3D) 
 
ntidential
 
 
异构算力调度平台 TopsStack白皮书
 
 
Entlame-Tec
 
 
V1.0
 
 
2021年 10月
 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro-01.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_3.jpg?Expires=1758447075&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=hpobiiP8jhGoklHD1RLDWjGwH%2BM%3D) 
 
Enflame燧原科技
 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
2/ 13
 
 
目录
 
 
1前言................................................................................................................. 3
 
 
1.1声明............................................................................................................................................... 3
 
 
1.2版本历史....................................................................................................................................... 3
 
 
1.3词汇表........................................................................................................................................... 3
 
 
1.4本文档建议阅读受众................................................................................................................... 4
 
 
2 TopsStack概述................................................................................................... 5
 
 
3 TopsStack架构................................................................................................... 7
 
 
4 TopsStack优势................................................................................................... 9
 
 
5 TopsStack适用人员.......................................................................................... 10
 
 
6 TopsStack功能.................................................................................................. 11
 
 
6.1集群管理..................................................................................................................................... 11
 
 
6.1.1多集群管理.......................................................................................................................... 11
 
 
6.1.2服务组件管理...................................................................................................................... 11
 
 
6.1.3应用资源管理...................................................................................................................... 11
 
 
6.2算力调度..................................................................................................................................... 11
 
 
6.2.1异构算力调度和配额管理.................................................................................................. 11
 
 
6.2.2调度策略.............................................................................................................................. 12
 
 
6.3监控告警..................................................................................................................................... 12
 
 
6.3.1多维度监控系统.................................................................................................................. 12
 
 
6.3.2多租户告警系统.................................................................................................................. 12
 
 
6.3.3日志查询与收集.................................................................................................................. 12
 
 
6.4访问控制..................................................................................................................................... 13
 
 
6.4.1企业空间管理...................................................................................................................... 13
 
 
6.4.2用户与角色管理.................................................................................................................. 13
 
 
XC
 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro-01.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_4.jpg?Expires=1758447075&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=Xt6%2F0YThqzUA6RBwl9RFGriyiGc%3D) 
 
Enflame燧原科技
 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
3/ 13
 
 
1前言
 
 
1.1声明
 
 
本文档提供的信息属于上海燧原科技有限公司和/或其子公司（以下统称“燧原科技”）所有，且燧原科技保留不经通知随时对本文档信息或对任何产品和服务做出修改的权利。本文档所含信息和本文档所引用燧原科技其他信息均“按原样”提供。燧原科技不担保信息、文本、图案、链接或本文档内所含其他项目的准确性或完整性。燧原科技不对本文档所述产品的可销售性、所有权、不侵犯知识产权、准确性、完整性、稳定性或特定用途适用性做任何暗示担保、保证。燧原科技可不经通知随时对本文档或本文档所述产品做出更改，但不承诺更新本文档。
 
 
在任何情况下，燧原科技不对因使用或无法使用本文档而导致的任何损害（包括但不限于利润损失、业务中断和信息损失等损害）承担责任。燧原科技不承担因应用或使用本文档所述任何产品或服务而产生的任何责任。
 
 
本文档所列的规格参数、性能数据和等级需使用特定芯片或计算机系统或组件来测量。经该等测试，本文档所示结果反映了燧原科技产品的大概性能。系统配置及软硬件版本、环境变量等的任何不同会影响实际性能，产品实际效果与文档描述存在差异的，均属正常现象。燧原科技不担保测试每种产品的所有参数。客户自行承担对产品适合并适用于客户计划的应用以及对应用程序进行必要测试的责任。客户产品设计的脆弱性会影响燧原科技产品的质量和可靠性并导致超出本文档范围的额外或不同的情况和/或要求。
 
 
燧原科技和燧原科技的标志是上海燧原科技有限公司申请和/或注册的商标。本文档并未明示或暗示地授予客户任何专利、版权、商标、集成电路布图设计、商业秘密或任何其他燧原科技知识产权的权利或许可。
 
 
本文档为版权所有并受全世界版权法律和条约条款的保护。未经燧原科技的事先书面许可，任何人不可以任何方式复制、修改、出版、上传、发布、传输或分发本文档。为免疑义，除了允许客户按照本文档要求使用文档相关信息外，燧原科技不授予其他任何明示或暗示的权利或许可。
 
 
燧原科技对本文档享有最终解释权。
 
 
1.2版本历史
 
 
表 1-1版本历史
 
 
| 文档版本|文档日期|文档说明|
| ---|---|---|
| V1.0|2021年 10月|定稿| 
 
1.3词汇表
 
 
表 1-2词汇表
 
 
| 术语|描述|
| ---|---|
| TopsStack|燧原科技异构算力调度平台|
| GCU|General Compute Unit,燧原科技通用计算单元|
| vGCU|GCU更细粒度的计算单元| 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_5.jpg?Expires=1758447075&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=28ROgc7s%2BOyo5Tv71AEajBU4TWw%3D) 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
4/ 13
 
 
1.4本文档建议阅读受众
 
 
本文档建议公司基础设施建设工程师、软件开发工程师、运维工程师阅读。
 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_6.jpg?Expires=1758447075&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=vNMctu2ydXsCkEMNJW86b0jt2hg%3D) 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
5/ 13
 
 
2 TopsStack概述
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_7.jpg?Expires=1758447075&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=en5mcuRL9aqqllJ7GXeg4X7mgLY%3D) 
 
开源项目 Kubernetes已经成为事实上的编排平台的领导者，其在自动化部署、扩展性、以及管理容器化的应用已经体现出独特的优势。目前 Kubernetes仅提供的是开源的解决方案或项目，可能在某种程度上难以安装，维护和操作，对于用户而言，学习成本和门槛都很高，快速上手并不是一件易事。
 
 
燧原科技异构算力调度平台 TopsStack是以应用为中心的企业级分布式容器平台，提供简单易用的操作界面以及向导式操作方式，在降低用户 Kubernetes学习成本的同时，极大减轻开发、测试、运维的日常工作的复杂度，解决了容器的存储、网络和安全和易用性等痛点。同时，平台整合并优化了多个适用于容器场景的功能平台，以完整的解决方案帮助企业轻松应对敏捷开发与自动化运维、微服务治理、灰度发布、多租户管理、工作负载和集群管理、监控告警、日志查询与收集、服务与网络、镜像构建与镜像仓库管理和存储管理等多种业务场景。
 
 
◎平台管理   零应用商店   ①工作台               TOPSSTACK                              admin
 
 
![](http://darwin-controller-pro-01.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_8.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=sj0lrKY8x8yM2JATjRm44jRz3yU%3D) 
 
图 2-1集群概览
 
 
平台通过多租户机制提供了跨集群、跨项目（即 Kubernetes中的命名空间）共享资源的能力。平台为用户提供不同级别的权限控制，包括集群、企业空间和项目。拥有特定角色的用户可以操作对应的资源，除了系统内置的角色外，还支持自定义角色，以满足企业对不同租户具体工作分配的要求。租户之间的资源既有逻辑层面隔离，也有物理层面隔离，满足不同等级的隔离需求。
 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_9.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=fQp8gK7doASv1jBUl4lffw1gJUI%3D) 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
6/ 13
 
 
![](http://darwin-controller-pro-01.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_10.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=zOxD0ePeb21jiNPO8Pd%2Buu3%2ByRY%3D) 
 
图 2-2企业空间
 
 
![](http://darwin-controller-pro-01.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_11.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=6N0okrFUkB1FGRJT3NRDFXdtFMQ%3D) 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
7/ 13
 
 
3 TopsStack架构               Enflame燧原科技
 
 
异构算力调度平台 TopsStack采用了前后端分离的架构，实现了面向云原生的设计，后端的各个功能组件可通过 REST API对接外部系统。无底层的基础设施依赖，可以运行在任何Kubernetes、私有云、VM或物理环境（BM）之上。异构算力调度平台 TopsStack分为微服务治理、应用管理等平台：
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_12.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=Y1zqsCwmwakT3glCGsYqBXTNYPM%3D) 
 
图 3-1 TopsStack架构图
 
 
微服务治理平台：基于 Istio提供了蓝绿部署、金丝雀发布、流量镜像等三种灰度策略，无需修改应用的业务代码，即可实现熔断、灰度发布、流量管控、限流、链路追踪、智能路由等完善的微服务治理功能。
 
 
应用管理平台：负责平台的应用发布，应用部署，版本控制，应用仓库管理，用户既可以使用通用的应用模板以可视化的方式部署并管理应用，也可以以 Helm Chart形式将应用上传至公共、私有应用仓库，并进行多版本控制，在不同团队之间共享应用模板。
 
 
可观察性平台：负责集群、节点、应用等不同维度的监控日志、审计事件以及告警通知，不同用户可以自定义监控面板、告警规则，不同级别的资源可以根据用量进行排序，方便用户对数据进行对比与分析。
 
 
安全平台：负责平台中容器镜像、Kubernetes控制平面、节点运行时安全，通过用户管理和角色管理实现用户最小化访问权限，缩小潜在攻击范围；借助第三方登陆认证校验用户的合法性，防范外来攻击；通过秘钥管理防止安全凭证的泄露，防范内部攻击。
 
 
网络平台：负责平台的网络策略配置，以 CNI(Container Network Interface)作为容器网络的统一标准，支持用户安装不同的网络插件满足不同网络策略需求，插件包括 Calico、Cilium、Kube-router、Romana和 Weave Net等。
 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_13.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=woRF21JfAY8yVY4UhEup1mgrg1w%3D) 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
8/ 13
 
 
多集群纳管平台：负责多集群跨区、跨云的导入和运维，隔离开发和生产环境，解耦数据处理和数据存储，跨云备份和灾难恢复，灵活分配计算资源，跨区域服务的低延迟访问以及避免厂商锁定等。
 
 
多租户平台：负责平台的多级的权限控制和资源配额限制，企业空间是最小的租户单元，企业空间提供了跨集群、跨项目（即 Kubernetes中的命名空间）共享资源的能力。用户是平台的帐户实例，可以被设置为平台层面的管理员参与集群的管理，也可以被添加到企业空间中参与项目协同。
 
 
存储平台：负责安装和管理不同的存储系统，包括 GlusterFS、CephRBD、NFS等开源存储方案，存储系统以插件形式安装，用户在平台安装多个插件即可实现多存储解决方案。
 
 
![](http://darwin-controller-pro-01.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_14.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=5%2BuIMHGsMKpVnEYGEVpmU%2F2Rze0%3D) 
 
Enflame燧原科技
 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
9/ 13
 
 
4 TopsStack优势
 
 
1)统一的多集群管理入口，减低企业运维成本
 
 
用户只需简单配置，即可在数分钟内在平台的 Web界面上实现多集群跨区、跨云的导入，并通过统一的中央控制平面监控集群状态、运维集群资源。多集群架构中，一旦主集群宕机，备用集群可以迅速接管相关服务。当集群跨区域部署时，请求可以发送至距离最近的集群，最大限度地减少延迟，实现跨区跨集群的高可用。
 
 
2)强大的可观测性，提升异常事件处置效率
 
 
用户可以借助平台的监控系统查看平台中的监控日志、审计事件以及告警通知。平台支持用户自定义监控面板、告警策略与规则，不同级别的资源可以根据用量进行排序，方便用户对数据进行对比与分析。整个监控系统提供秒级监控数据，帮助用户快速定位组件异常。此外平台配备了高效的通知系统，支持多种通知渠道，包括电子邮件、企业微信等。
 
 
3)多维度的权限体系，提高企业资源利用率和安全性
 
 
平台为用户提供不同级别的权限控制，包括集群、企业空间和项目。拥有特定角色的用户可以操作对应的资源。除了系统内置的角色外，还支持自定义角色，用户可以给角色分配不同的权限以执行不同的操作，以满足企业对不同租户具体工作分配的要求。租户之间的资源与网络完全隔离，确保数据安全。
 
 
4)开箱即用的流量管理工具集，提升企业微服务治理水平
 
 
平台支持无侵入的微服务治理，为用户提供多样化的流量管理功能，包括金丝雀发布、蓝绿部署、流量镜像、熔断机制等。通过可视化界面，帮助用户直观地查看微服务之间相互通信的情况。通过链路追踪、智能路由功能，帮助用户快速监控应用，定位问题并提高系统性能。
 
 
Entlame-
 
 
![](http://darwin-controller-pro-01.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_15.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=7Nz7cjUSYmIt9wQip4%2BICx%2BjqoE%3D) 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
10/ 13
 
 
5 TopsStack适用人员
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_16.jpg?Expires=1758447076&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=D7%2BI3UE603ywxDszumdc9DLZgPY%3D) 
 
1)基础设施团队
 
 
平台支持多云与多集群管理，基础设施团队可以跨区、跨云管理、监控、导入多个集群，并根据企业需要以集群、企业空间和项目等维度划分集群资源，同时为用户提供不同级别的权限控制，提高资源利用率，减少内部基础设施的成本支出。
 
 
2)软件开发工程师
 
 
平台内置常用的自动化部署环境，为应用部署提供定制化的容器运行环境，软件开发工程师从繁琐的 YAML编辑工作中解放，只需专注于业务开发。平台提供开箱即用的工具集，简化应用的持续集成、测试、审核、发布、升级与弹性扩缩容，提高开发效率，缩短应用交付周期。
 
 
3)运维工程师
 
 
平台提供从平台到应用维度的日志、监控、事件、审计、告警与通知，实现集中式与多租户隔离的可观测性，帮助运维工程师提前发现系统瓶颈，快速定位问题。同时平台提供易用的界面命令终端与图形化操作面板，满足不同运维人员的使用习惯。
 
 
4)公司管理层
 
 
Entlame-Tec
 
 
公司管理层可以基于平台方便地了解掌握公司的 AI算力的资产，如 AI计算资源的总量和使用负载、平台用户信息等，提升资源的利用率，协助后期投入预判。此外管理层还可以基于平台从不同维度分析线上服务调用量、运行转态，及时调整产品策略和改进团队研发质量。
 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_17.jpg?Expires=1758447077&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=60EMgchrprr8%2FCEXDt05wmWGrA4%3D) 
 
Enflame燧原科技
 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
11/ 13
 
 
6 TopsStack功能
 
 
6.1集群管理
 
 
在异构算力调度平台 TopsStack中负责多集群以及每个集群的基础资源、服务组件和应用资源等的统一管理。所包含的主要功能和特性如下。
 
 
6.1.1多集群管理
 
 
1)支持通过 web控制台以 kubeconfig直接连接导入集群，或以代理方式导入集群。
 
 
2)支持查看集群中某一节点运行状态。
 
 
3)支持集群可见性控制，将一个集群分配给多个企业空间，让企业空间资源都可以在该集群上运行。同时一个企业空间也可以关联多个集群，拥有必要权限的企业空间用户，可以使用分配给该企业空间的集群来创建多集群项目。
 
 
4)支持管理员创建不同存储类型、存储卷、存储快照。
 
 
5)支持命令行工具访问和控制集群。
 
 
6)支持使用配置文件配置当前集群的访问信息。
 
 
6.1.2服务组件管理
 
 
Tontidem
 
 
1)支持在页面查看系统组件的运行状态，包括 Kubernetes，Istio，监控、日志等组件。
 
 
2)支持查看系统组件中容器组工作详情。
 
 
6.1.3应用资源管理
 
 
1)支持工作负载的创建、健康检测、删除、更新以及版本回退。
 
 
2)支持服务与应用路由管理(服务发现)、密钥配置管理。
 
 
3)支持动态添加服务副本,不影响在线业务。
 
 
4)支持任务创建、定时启动以及手动重跑。
 
 
5)支持创建工作负载时或者训练时挂载存储卷。
 
 
6)支持挂载分布式存储卷、临时存储卷和 Hostpath存储卷。
 
 
7)支持灰度发布,将业务流量同时分配给新版本和旧版本，在测试新版本的同时保证业务连续性。
 
 
6.2算力调度
 
 
在算力平台中负责异构算力调度和配额管理,内置多种调度策略，满足用户不同业务场景需求。所包含的主要功能和特性如下。
 
 
6.2.1异构算力调度和配额管理
 
 
1)支持创建的服务和训练任务时，动态调度分配燧原 AI加速卡（GCU）、GPU、CPU、内存等资源。
 
 
2)支持以 GCU为单元的配额与调度，支持基于 vGCU为单位的算力调度。
 
 
3)支持设置每个项目的 GCU、GPU、CPU、内存配额。
 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_18.jpg?Expires=1758447077&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=KMaekubJ%2BPKBxW9zRCxDHGNJg%2B4%3D) 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
12/ 13
 
 
6.2.2调度策略
 
 
1)支持 Gang Scheduling‘组’调度策略，即一组容器要么都成功运行，要么都不调度，提高资源利用率。
 
 
2)支持 DRF（dominant resource fairness）调度策略，即“谁要的资源少，谁的优先级高”，可以满足更多的作业，避免一个胖业务导致大批小业务陷入饥饿状态。
 
 
3)支持 Binpack调度策略，尽量将应用负载靠拢至部分节点，有利于 Kubernetes集群节点的自动扩缩容。
 
 
4)支持 Queue（队列）调度策略，通过控制集群总资源分配比例，使得不同团队依次使用集群资源。
 
 
5)支持基于芯片温度、机箱温度以及机架温度的调度策略，提高单节点性能及整个集群的可用性。
 
 
6.3监控告警
 
 
在异构算力调度平台 TopsStack中负责多维度监控、多租户告警和日志查询与收集。所包含的主要功能和特性如下。
 
 
6.3.1多维度监控系统
 
 
de
 
 
1)支持集群资源维度监控，提供 CPU利用率、内存利用率、CPU平均负载、磁盘使用量、inode使用率、磁盘吞吐量、IOPS、网卡速率、容器组运行状态、ETCD监控、API Server监控等多项指标。
 
 
2)支持应用资源维度监控，提供针对应用的 CPU用量、内存用量、容器组数量、网络流出速率、网络流入速率等五项监控指标。并支持按用量排序和自定义时间范围查询，快速定位异常。
 
 
3)支持按节点、企业空间、项目等资源用量排行。
 
 
6.3.2多租户告警系统
 
 
1)支持基于多租户、多维度的监控指标告警，目前告警策略支持集群管理员对节点级别和租户对工作负载级别等两个层级。
 
 
2)支持自定义包含多个告警规则的告警策略，并且可以指定通知规则和重复告警的规则。
 
 
3)提供节点级别和工作负载级别的监控告警指标，包括容器组、CPU、内存、磁盘、网络等多个监控告警指标。
 
 
4)支持自定义某监控指标的检测周期长度、持续周期次数、告警等级等。
 
 
5)支持自定义发送通知时间段及通知列表，包括邮件通知和企业微信。
 
 
6)支持自定义重复告警规则，包括设置重复告警周期、最大重复次数并和告警级别挂钩。
 
 
6.3.3日志查询与收集
 
 
1)支持多租户日志管理，在平台中的日志查询系统中，不同的租户只能看到属于自己的日志信息。
 
 
2)支持多级别的日志查询(项目/工作负载/容器组/容器以及关键字)、灵活方便的日志收集配置选项。
 
 
3)支持多种日志收集平台，如 Elasticsearch、Kafka、Fluentd。
 
 
异构算力调度平台 TopsStack白皮书
 
 
![](http://darwin-controller-pro.oss-cn-hangzhou.aliyuncs.com/docs/1419011741968236544/%E3%80%90%E5%8E%9F%E6%96%87%E3%80%91%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0TopsStack%E7%99%BD%E7%9A%AE%E4%B9%A6_19.jpg?Expires=1758447077&OSSAccessKeyId=LTAI5tBVMtznbk7xyCa56gof&Signature=HPyUwMW02ShIzknu6x%2BN71auXMw%3D) 
 
版权所有©2021上海燧原科技有限公司保留所有权利
 
 
13/ 13
 
 
6.4访问控制
 
 
在异构算力调度平台 TopsStack中负责对企业空间、用户、以及角色进行统一管理。企业空间是用来管理项目、DevOps项目、应用模板和应用仓库的一种逻辑单元，可以在企业空间中控制资源访问权限，也可以安全地在团队内部分享资源。用户是平台的帐户实例，可以被设置为平台层面的管理员参与集群的管理，也可以被添加到企业空间中参与项目协同。角色是用户管理和访问平台的权限集合，平台可以灵活设置多种角色。所包含的主要功能和特性如下。
 
 
6.4.1企业空间管理
 
 
1)创建和删除企业空间，查看企业空间内资源用量、用量排行和集群信息。
 
 
2)支持在企业空间下创建项目、多集群项目对资源进行分组并控制不同用户的权限。
 
 
3)支持企业空间配额管理，用于管理企业空间中所有项目和 DevOps项目的总资源用量。
 
 
4)支持上传或者创建新的应用模板，并且快速部署它们，也可以通过应用商店进行发布应用。
 
 
5)创建应用仓库，是用于存放应用模板。
 
 
6)支持在企业空间下邀请成员。
 
 
7)支持定义企业空间用户角色，用户拥有的权限仅限于当前企业空间。
 
 
6.4.2用户与角色管理
 
 
1)管理平台中的角色，为角色分配集群管理权限、访问控制权限、应用管理权限、平台设置权限。
 
 
Entlame-Tech2)管理平台中的用户，包括用户创建、删除、角色绑定。
 
 
